<mat-progress-spinner *ngIf="loading"></mat-progress-spinner>
<div *ngIf="successMsg" class="alert alert-success mt-4 msj-exito" role="alert">
    {{successMsg}}
</div>
<mat-toolbar *ngIf="errorMsg" color="warn">{{successMsg}}</mat-toolbar>

<div *ngIf="!loading && !loading" class="container">
    <table mat-table [dataSource]="reservas" class="mat-elevation-z8">
        <ng-container matColumnDef="fecha">
            <th mat-header-cell *matHeaderCellDef><h6>Fecha de Reserva</h6></th>
            <td mat-cell *matCellDef="let reserva">{{reserva.fecha | date: 'd/M/yy HH:mm' : 'GMT' }}</td>
        </ng-container>
        <ng-container matColumnDef="nombre">
            <th mat-header-cell *matHeaderCellDef><h6>Nombre</h6></th>
            <td mat-cell *matCellDef="let reserva">{{reserva.nombre}}</td>
        </ng-container>
        <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef><h6>Email</h6></th>
            <td mat-cell *matCellDef="let reserva">{{reserva.email}}</td>
        </ng-container>
        <ng-container matColumnDef="sala">
            <th mat-header-cell *matHeaderCellDef><h6>Sala</h6></th>
            <td mat-cell *matCellDef="let reserva">{{reserva.salaId}}</td>
        </ng-container>
        <ng-container matColumnDef="cancelar">
            <th mat-header-cell *matHeaderCellDef>-</th>
            <td mat-cell *matCellDef="let reserva"><button mat-raised-button color="warn" (click)="cancelarReserva(reserva.id)">Cancelar</button></td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="['fecha', 'nombre', 'email', 'sala', 'cancelar']"></tr>
        <tr mat-row *matRowDef="let row; columns: ['fecha', 'nombre', 'email', 'sala', 'cancelar']"></tr>
    </table>
</div>